{"version":3,"sources":["../../src/pages/surgery/surgery.module.ts","../../src/helpers/shared.module.ts","../../src/components/progress-bar/progress-bar.ts","../../node_modules/ionic2-rating/dist/ionic2-rating.js","../../src/pages/surgery/surgery.ts","../../node_modules/ionic2-rating/dist/index.js","../../node_modules/ionic2-rating/dist/ionic2-rating.module.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAAyC;AACO;AACR;AACW;AACQ;AAe3D;IAAA;IAAgC,CAAC;IAApB,iBAAiB;QAb7B,+DAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,6DAAW;aACZ;YACD,OAAO,EAAE;gBACP,8DAAe,CAAC,QAAQ,CAAC,6DAAW,CAAC;gBACrC,yEAAkB;gBAClB,4EAAY;aACb;YACD,OAAO,EAAE;gBACP,6DAAW;aACZ;SACF,CAAC;OACW,iBAAiB,CAAG;IAAD,wBAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;;ACnBW;AACI;AACH;AACmC;AACzB;AAYpD;IAAA;IAA2B,CAAC;IAAf,YAAY;QAVxB,+DAAQ,CAAC;YACN,OAAO,EAAE;gBACL,6DAAY;gBACZ,0DAAW;gBACX,4EAAe,CAAC,QAAQ,EAAE;aAC7B;YACD,YAAY,EAAE,CAAC,mGAAoB,CAAC;YACpC,OAAO,EAAE,CAAC,mGAAoB,EAAE,4EAAe,CAAC;SACnD,CAAC;OAEW,YAAY,CAAG;IAAD,mBAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;AChBwB;AAMjD;IAIE;IAEA,CAAC;IAJkB;QAAlB,4DAAK,CAAC,UAAU,CAAC;;0DAAU;IAFjB,oBAAoB;QAJhC,gEAAS,CAAC;YACT,QAAQ,EAAE,cAAc;WACQ;SACjC,CAAC;;OACW,oBAAoB,CAQhC;IAAD,CAAC;AAAA;SARY,oBAAoB,W;;;;;;;;;;;;ACNM;AACX;AAC5B;AACA;AACA;AACA;AACA,gGAAyC,qBAAqB,EAAE;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,wEAAwE,UAAU,EAAE;AACpF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,kDAAkD,wBAAwB,oBAAoB,yBAAyB,0BAA0B,OAAO,sBAAsB,wBAAwB,OAAO;AAC7M;AACA;AACA,iBAAiB,IAAI;AACrB;AACA;AACA;AACA;AACA,iBAAiB,6DAAc;AAC/B,sBAAsB,6DAAc;AACpC,+BAA+B,6DAAc;AAC7C,8BAA8B,6DAAc;AAC5C,0BAA0B,6DAAc;AACxC,sBAAsB,6DAAc;AACpC;AACA;AACA,CAAC;AACD,yC;;;;;;;;;;;;;;;;;;;;;;;AC5K0C;AACkC;AACf;AACf;AACa;AAE3D;;;;;GAKG;AAMH;IAOE,qBAAmB,OAAsB,EACtB,YAA0B,EAC1B,WAAwB,EACvB,WAA8B,EAC9B,MAAc,EACf,SAAoB;QALpB,YAAO,GAAP,OAAO,CAAe;QACtB,iBAAY,GAAZ,YAAY,CAAc;QAC1B,gBAAW,GAAX,WAAW,CAAa;QACvB,gBAAW,GAAX,WAAW,CAAmB;QAC9B,WAAM,GAAN,MAAM,CAAQ;QACf,cAAS,GAAT,SAAS,CAAW;QARhC,UAAK,GAAG,KAAK,CAAC;QACd,iBAAY,GAAG,CAAC,CAAC;IAQxB,CAAC;IAED,8BAAQ,GAAR;QAAA,iBAsBC;QApBC,IAAI,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC;QACvC,MAAM,CAAC,OAAO,EAAE,CAAC;QAEjB,IAAI,CAAC,YAAY,CAAC,WAAW,EAAE,CAAC,SAAS,CACvC,UAAC,GAAO;YACN,KAAI,CAAC,KAAK,GAAG,IAAI,CAAC;YAClB,MAAM,CAAC,OAAO,EAAE,CAAC;YAEjB,KAAI,CAAC,MAAM,GAAG,GAAG,CAAC,MAAM,CAAC;YACzB,KAAI,CAAC,cAAc,GAAG,GAAG,CAAC,QAAQ,CAAC;YAEnC,KAAI,CAAC,MAAM,CAAC,GAAG,CAAC,UAAC,KAAK,EAAE,CAAC;gBACvB,KAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,GAAG,UAAU,CAAC,KAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC;YACpE,CAAC,CAAC,CAAC;QACL,CAAC,EACD,aAAG;YACD,KAAI,CAAC,KAAK,GAAG,IAAI,CAAC;YAClB,MAAM,CAAC,OAAO,EAAE,CAAC;QACnB,CAAC,CACF,CAAC;IACJ,CAAC;IAED,mCAAa,GAAb,UAAc,CAAC;QAAf,iBAsBC;QArBC,IAAI,OAAO,GAAG,qCAAqC,GAAC,IAAI,CAAC,YAAY,GAAC,yDAAyD,CAAC;QAChI,IAAI,UAAU,GAAG,MAAM,CAAC,OAAO,CAAC,CAAC;QAEjC,EAAE,CAAC,CAAC,UAAU,KAAK,IAAI,CAAC,CAAC,CAAC;YACxB,MAAM,CAAC;QACT,CAAC;QAED,IAAI,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC;QACvC,MAAM,CAAC,OAAO,EAAE,CAAC;QAEjB,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,YAAY,EAAE,UAAU,CAAC,CAAC,SAAS,CAC/F,aAAG;YACD,MAAM,CAAC,OAAO,EAAE,CAAC;YACjB,KAAI,CAAC,cAAc,GAAG,CAAC,CAAC;YACxB,KAAI,CAAC,MAAM,CAAC,OAAO,CAAC,iCAAiC,EAAE,SAAS,CAAC,CAAC;QACpE,CAAC,EACD,aAAG;YACD,MAAM,CAAC,OAAO,EAAE,CAAC;YACjB,KAAI,CAAC,MAAM,CAAC,OAAO,CAAC,uCAAuC,EAAE,OAAO,CAAC,CAAC;QACxE,CAAC,CACF,CAAC;IACJ,CAAC;IA7DU,WAAW;QAJvB,gEAAS,CAAC;YACT,QAAQ,EAAE,cAAc;WACG;SAC5B,CAAC;2FAQyC;YACR,6EAAY;YACb,gEAAW;YACV,gEAAiB;YACtB,wDAAM;YACJ,QAAS;OAZ5B,WAAW,CA+DvB;IAAD,CAAC;AAAA;SA/DY,WAAW,e;;;;;;;;;;;;ACjBK;AACN;AACvB,iC;;;;;;;;;;;;;ACF2C;AACpB;AACD;AACC;AACvB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,IAAI;AACrB;AACA;AACA;AACA;AACA,CAAC;AACD,gD","file":"2.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { SurgeryPage } from './surgery';\nimport { Ionic2RatingModule } from 'ionic2-rating';\nimport { SharedModule } from '../../helpers/shared.module';\n\n@NgModule({\n  declarations: [\n    SurgeryPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(SurgeryPage),\n    Ionic2RatingModule,\n    SharedModule\n  ],\n  exports: [\n    SurgeryPage\n  ]\n})\nexport class SurgeryPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/surgery/surgery.module.ts","import { NgModule } from '@angular/core';\nimport {CommonModule} from '@angular/common'; \nimport {IonicModule} from 'ionic-angular';\nimport {ProgressBarComponent} from '../components/progress-bar/progress-bar';\nimport {TranslateModule} from '@ngx-translate/core';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        IonicModule,\n        TranslateModule.forChild()\n    ],\n    declarations: [ProgressBarComponent],\n    exports: [ProgressBarComponent, TranslateModule],\n})\n\nexport class SharedModule {}\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/shared.module.ts","import { Component, Input } from '@angular/core';\n \n@Component({\n  selector: 'progress-bar',\n  templateUrl: 'progress-bar.html'\n})\nexport class ProgressBarComponent {\n \n  @Input('progress') progress;\n \n  constructor() {\n \n  }\n \n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/progress-bar/progress-bar.ts","import { Component, forwardRef, Input } from '@angular/core';\r\nimport { NG_VALUE_ACCESSOR } from '@angular/forms';\r\nvar noop = function () {\r\n};\r\nexport var RATING_CONTROL_VALUE_ACCESSOR = {\r\n    provide: NG_VALUE_ACCESSOR,\r\n    useExisting: forwardRef(function () { return Ionic2Rating; }),\r\n    multi: true\r\n};\r\nexport var Ionic2Rating = (function () {\r\n    function Ionic2Rating() {\r\n        this._max = 5;\r\n        this._readOnly = false;\r\n        this._emptyStarIconName = 'star-outline';\r\n        this._halfStarIconName = 'star-half';\r\n        this._starIconName = 'star';\r\n        this._nullable = false;\r\n        this.onChangeCallback = noop;\r\n    }\r\n    Object.defineProperty(Ionic2Rating.prototype, \"max\", {\r\n        get: function () {\r\n            return this._max;\r\n        },\r\n        set: function (val) {\r\n            this._max = this.getNumberPropertyValue(val);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Ionic2Rating.prototype, \"readOnly\", {\r\n        get: function () {\r\n            return this._readOnly;\r\n        },\r\n        set: function (val) {\r\n            this._readOnly = this.isTrueProperty(val);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Ionic2Rating.prototype, \"emptyStarIconName\", {\r\n        get: function () {\r\n            return this._emptyStarIconName;\r\n        },\r\n        set: function (val) {\r\n            this._emptyStarIconName = val;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Ionic2Rating.prototype, \"halfStarIconName\", {\r\n        get: function () {\r\n            return this._halfStarIconName;\r\n        },\r\n        set: function (val) {\r\n            this._halfStarIconName = val;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Ionic2Rating.prototype, \"starIconName\", {\r\n        get: function () {\r\n            return this._starIconName;\r\n        },\r\n        set: function (val) {\r\n            this._starIconName = val;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Ionic2Rating.prototype, \"nullable\", {\r\n        get: function () {\r\n            return this._nullable;\r\n        },\r\n        set: function (val) {\r\n            this._nullable = this.isTrueProperty(val);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Ionic2Rating.prototype.ngOnInit = function () {\r\n        // ngFor needs an array\r\n        this.starIndexes = Array(this.max).fill(1).map(function (x, i) { return i; });\r\n    };\r\n    Ionic2Rating.prototype.getStarIconName = function (starIndex) {\r\n        if (this.value === undefined) {\r\n            return this.emptyStarIconName;\r\n        }\r\n        if (this.value > starIndex) {\r\n            if (this.value < starIndex + 1) {\r\n                return this.halfStarIconName;\r\n            }\r\n            else {\r\n                return this.starIconName;\r\n            }\r\n        }\r\n        else {\r\n            return this.emptyStarIconName;\r\n        }\r\n    };\r\n    Object.defineProperty(Ionic2Rating.prototype, \"value\", {\r\n        get: function () {\r\n            return this.innerValue;\r\n        },\r\n        set: function (value) {\r\n            if (value !== this.innerValue) {\r\n                this.innerValue = value;\r\n                this.onChangeCallback(value);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Ionic2Rating.prototype.writeValue = function (value) {\r\n        if (value !== this.innerValue) {\r\n            this.innerValue = value;\r\n        }\r\n    };\r\n    Ionic2Rating.prototype.registerOnChange = function (fn) {\r\n        this.onChangeCallback = fn;\r\n    };\r\n    Ionic2Rating.prototype.registerOnTouched = function (fn) {\r\n    };\r\n    Ionic2Rating.prototype.onKeyDown = function (event) {\r\n        if (/(37|38|39|40)/.test(event.which)) {\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n            var newValue = this.value + ((event.which == 38 || event.which == 39) ? 1 : -1);\r\n            return this.rate(newValue);\r\n        }\r\n    };\r\n    Ionic2Rating.prototype.rate = function (value) {\r\n        if (this.readOnly || value < 0 || value > this.max) {\r\n            return;\r\n        }\r\n        if (value === this.value && this.nullable) {\r\n            value = null;\r\n        }\r\n        this.value = value;\r\n    };\r\n    Ionic2Rating.prototype.isTrueProperty = function (val) {\r\n        if (typeof val === 'string') {\r\n            val = val.toLowerCase().trim();\r\n            return (val === 'true' || val === 'on');\r\n        }\r\n        return !!val;\r\n    };\r\n    Ionic2Rating.prototype.getNumberPropertyValue = function (val) {\r\n        if (typeof val === 'string') {\r\n            return parseInt(val.trim());\r\n        }\r\n        return val;\r\n    };\r\n    Ionic2Rating.decorators = [\r\n        { type: Component, args: [{\r\n                    selector: 'rating',\r\n                    styles: [\"\\n    ul.rating li {\\n      display: inline;\\n      border: 0px;\\n      background: none;\\n      padding: 5px 10px;\\n    }\\n    ul.rating li i {\\n      font-size: 30px;\\n    }\\n  \"],\r\n                    template: \"\\n    <ul class=\\\"rating\\\" (keydown)=\\\"onKeyDown($event)\\\">\\n      <li *ngFor=\\\"let starIndex of starIndexes\\\" tappable (click)=\\\"rate(starIndex + 1)\\\">\\n        <ion-icon [name]=\\\"getStarIconName(starIndex)\\\">\\n        </ion-icon>\\n      </li>\\n    </ul>\",\r\n                    providers: [RATING_CONTROL_VALUE_ACCESSOR]\r\n                },] },\r\n    ];\r\n    /** @nocollapse */\r\n    Ionic2Rating.ctorParameters = [];\r\n    Ionic2Rating.propDecorators = {\r\n        'max': [{ type: Input },],\r\n        'readOnly': [{ type: Input },],\r\n        'emptyStarIconName': [{ type: Input },],\r\n        'halfStarIconName': [{ type: Input },],\r\n        'starIconName': [{ type: Input },],\r\n        'nullable': [{ type: Input },],\r\n    };\r\n    return Ionic2Rating;\r\n}());\r\n//# sourceMappingURL=ionic2-rating.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/ionic2-rating/dist/ionic2-rating.js\n// module id = 542\n// module chunks = 2","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, LoadingController } from 'ionic-angular';\nimport { StaffService } from '../../providers/staff-service';\nimport { Global } from '../../helpers/global';\nimport { UserService } from '../../providers/user-service';\n\n/**\n * Generated class for the SurgeryPage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n@IonicPage()\n@Component({\n  selector: 'page-surgery',\n  templateUrl: 'surgery.html',\n})\nexport class SurgeryPage {\n\n  public youAlreadyRate: any;\n  public staffs: any;\n  public ready = false;\n  public youRateValue = 3;\n\n  constructor(public navCtrl: NavController,\n              public staffService: StaffService,\n              public userService: UserService,\n              private loadingCtrl: LoadingController,\n              private global: Global,\n              public navParams: NavParams) {\n  }\n\n  ngOnInit()\n  {\n    let loader = this.loadingCtrl.create();\n    loader.present();\n\n    this.staffService.listRatings().subscribe(\n      (res:any) => {\n        this.ready = true;\n        loader.dismiss();\n\n        this.staffs = res.staffs;\n        this.youAlreadyRate = res.you_rate;\n        \n        this.staffs.map((staff, i)=> {\n          this.staffs[i]['avarage'] = parseFloat(this.staffs[i]['avarage']);\n        });\n      },\n      err=> {\n        this.ready = true;\n        loader.dismiss();\n      }\n    );\n  }\n\n  youRateChange(e) {\n    let message = 'Você irá avaliar seu cirurgião com '+this.youRateValue+' estrelas. Adicione uma mensagem à avaliação(opcional):';\n    let ratingText = prompt(message);\n    \n    if (ratingText === null) {\n      return;\n    }\n\n    let loader = this.loadingCtrl.create();\n    loader.present();\n\n    this.staffService.rate(this.userService.staffInfo('id'), this.youRateValue, ratingText).subscribe(\n      res=> {\n        loader.dismiss();\n        this.youAlreadyRate = 1;\n        this.global.showMsg('Avaliação efetuada com sucesso.', 'success');\n      },\n      err=> {\n        loader.dismiss();\n        this.global.showMsg('Não foi possível efetuar a avaliação.', 'error');\n      }\n    );\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/surgery/surgery.ts","export { Ionic2RatingModule } from './ionic2-rating.module';\r\nexport { Ionic2Rating } from './ionic2-rating';\r\n//# sourceMappingURL=index.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/ionic2-rating/dist/index.js\n// module id = 625\n// module chunks = 2","import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { IonicModule } from 'ionic-angular';\r\nimport { Ionic2Rating } from './ionic2-rating';\r\nexport var Ionic2RatingModule = (function () {\r\n    function Ionic2RatingModule() {\r\n    }\r\n    Ionic2RatingModule.decorators = [\r\n        { type: NgModule, args: [{\r\n                    declarations: [\r\n                        Ionic2Rating\r\n                    ],\r\n                    exports: [\r\n                        Ionic2Rating\r\n                    ],\r\n                    imports: [\r\n                        CommonModule,\r\n                        IonicModule\r\n                    ],\r\n                    schemas: [\r\n                        CUSTOM_ELEMENTS_SCHEMA\r\n                    ]\r\n                },] },\r\n    ];\r\n    /** @nocollapse */\r\n    Ionic2RatingModule.ctorParameters = [];\r\n    return Ionic2RatingModule;\r\n}());\r\n//# sourceMappingURL=ionic2-rating.module.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/ionic2-rating/dist/ionic2-rating.module.js\n// module id = 626\n// module chunks = 2"],"sourceRoot":""}