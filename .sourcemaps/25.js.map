{"version":3,"sources":["../../src/pages/login-page/login-page.module.ts","../../src/pages/login-page/login-page.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAuC;AACO;AACP;AACa;AAcpD;IAAA;IAA8B,CAAC;IAAlB,eAAe;QAZ3B,+DAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,8DAAS;aACV;YACD,OAAO,EAAE;gBACP,8DAAe,CAAC,QAAQ,CAAC,8DAAS,CAAC;gBACnC,4EAAe,CAAC,QAAQ,EAAE;aAC3B;YACD,OAAO,EAAE;gBACP,8DAAS;aACV;SACF,CAAC;OACW,eAAe,CAAG;IAAD,sBAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;;;;;ACjBY;AACoD;AAC1B;AACT;AACX;AAO9C;IAIE,mBACS,OAAsB,EACtB,SAAoB,EACpB,QAAwB,EACxB,MAAc,EACb,WAA8B,EAC/B,WAAwB,EACxB,WAAwB;QANxB,YAAO,GAAP,OAAO,CAAe;QACtB,cAAS,GAAT,SAAS,CAAW;QACpB,aAAQ,GAAR,QAAQ,CAAgB;QACxB,WAAM,GAAN,MAAM,CAAQ;QACb,gBAAW,GAAX,WAAW,CAAmB;QAC/B,gBAAW,GAAX,WAAW,CAAa;QACxB,gBAAW,GAAX,WAAW,CAAa;QAE/B,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;YACtC,KAAK,EAAE,CAAC,EAAE,EAAE,0DAAU,CAAC,OAAO,CAAC,CAAC,0DAAU,CAAC,QAAQ,CAAC,CAAC,CAAC;YACtD,QAAQ,EAAE,CAAC,EAAE,EAAE,0DAAU,CAAC,OAAO,CAAC,CAAC,0DAAU,CAAC,QAAQ,EAAE,0DAAU,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;SACnF,CAAC,CAAC;IACL,CAAC;IAED,kCAAc,GAAd;QACE,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,CAAC;YAC5B,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC;QAC7C,CAAC;QAED,uEAAuE;QACvE,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;IAC9B,CAAC;IAED,yBAAK,GAAL;QAAA,iBAcC;QAbC,IAAI,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE,CAAC;QACvC,MAAM,CAAC,OAAO,EAAE,CAAC;QAEjB,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,SAAS,CACpD,aAAG;YACD,MAAM,CAAC,OAAO,EAAE,CAAC;YACjB,KAAI,CAAC,cAAc,EAAE,CAAC;QACxB,CAAC,EACD,aAAG;YACD,MAAM,CAAC,OAAO,EAAE,CAAC;YACjB,KAAI,CAAC,MAAM,CAAC,OAAO,CAAC,4BAA4B,EAAE,OAAO,CAAC,CAAC;QAC7D,CAAC,CACF,CAAC;IACJ,CAAC;IAED,kCAAc,GAAd;QACE,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC;QACpC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;IAC7B,CAAC;IAED;;;;OAIG;IACH,4BAAQ,GAAR,UAAS,IAAY;QACnB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC1B,CAAC;IAxDU,SAAS;QAJrB,gEAAS,CAAC;YACT,QAAQ,EAAE,iBAAiB;WACG;SAC/B,CAAC;qEAM+B;YACX,6DAAS;YACV,gEAAc;YAChB,gEAAM;YACA,4DAAiB;YAClB,4EAAW;YACX,MAAW;OAXtB,SAAS,CAyDrB;IAAD,CAAC;AAAA;SAzDY,SAAS,oB","file":"25.js","sourcesContent":["import {NgModule} from '@angular/core';\nimport {IonicPageModule} from 'ionic-angular';\nimport {LoginPage} from './login-page';\nimport {TranslateModule} from '@ngx-translate/core';\n\n@NgModule({\n  declarations: [\n    LoginPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(LoginPage),\n    TranslateModule.forChild()\n  ],\n  exports: [\n    LoginPage\n  ]\n})\nexport class LoginPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login-page/login-page.module.ts","import {Component} from '@angular/core';\nimport {IonicPage, NavController, NavParams, MenuController, LoadingController} from 'ionic-angular';\nimport {Validators, FormBuilder, FormGroup} from '@angular/forms';\nimport {UserService} from '../../providers/user-service';\nimport { Global } from '../../helpers/global';\n\n@IonicPage()\n@Component({\n  selector: 'page-login-page',\n  templateUrl: 'login-page.html',\n})\nexport class LoginPage {\n\n  private loginData: FormGroup;\n\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public menuCtrl: MenuController,\n    public global: Global,\n    private loadingCtrl: LoadingController,\n    public formBuilder: FormBuilder,\n    public userService: UserService) {\n\n    this.loginData = this.formBuilder.group({\n      email: ['', Validators.compose([Validators.required])],\n      password: ['', Validators.compose([Validators.required, Validators.minLength(4)])],\n    });\n  }\n\n  ionViewDidLoad() {\n    if (this.userService.logged) {\n      return this.global.openPage('JourneyPage');\n    }\n    \n    //hide menu when on the login page, regardless of the screen resolution\n    this.menuCtrl.enable(false);\n  }\n\n  login() {\n    let loader = this.loadingCtrl.create();\n    loader.present();\n\n    this.userService.login(this.loginData.value).subscribe(\n      res=> {\n        loader.dismiss();\n        this.redirectToHome();\n      },\n      err=> {\n        loader.dismiss();\n        this.global.showMsg('Usuário ou senha inválido.', 'error');\n      }\n    );\n  }\n\n  redirectToHome() {\n    this.navCtrl.setRoot('JourneyPage');\n    this.menuCtrl.enable(true);\n  }\n\n  /**\n   * Opens a paage\n   * \n   * @param page string Page name\n   */\n  openPage(page: string) {\n    this.navCtrl.push(page);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login-page/login-page.ts"],"sourceRoot":""}